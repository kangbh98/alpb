# KT Trip(여행 아카이빙 어플리케이션)

## 서비스 시나리오

### 기능적 요구사항

1. 사용자는 카카오맵 기반으로 특정 장소의 정보(장소 기본 정보, 리뷰 등)를 조회할 수 있다.
2. 사용자는 특정 장소를 계획에 추가할 수 있다.
3. 사용자는 날짜 기준 계획을 삭제할 수 있다.
4. 사용자는 본인이 등록한 장소들을 계획 페이지를 통해 확인할 수 있다.
5. 계획이 만들어지고 1크레딧을 사용하면 계획 기반 만화가 만들어진다.
6. 크레딧이 없으면 만화 제작을 할 수 없다.
7. 사용자는 만들어진 만화를 삭제할 수 있다.
8. 사용자는 계획 기반으로 만들어진 만화를 확인할 수 있다.
9. 사용자는 특정 장소에 대한 리뷰를 남길 수 있다.
10. 사용자는 이미 만든 리뷰를 수정/삭제할 수 있다.
11. 사용자는 회원가입을 할 수 있다.
12. 사용자는 로그인/아웃을 할 수 있다.
13. 회원은 크레딧을 주문하여 구매할 수 있다.
14. 크레딧 주문을 하면 자동으로 결제가 진행된다.
15. 크레딧 주문 이후 결제를 취소하여 주문을 취소할 수 있다.
16. 결제가 완료되면 크레딧 개수가 증가한다.
17. 크레딧을 사용하면 크레딧 개수가 차감된다.
18. 크레딧은 최초 구매 시점으로부터 1년 후에 만료된다.
19. 사용자는 특정 장소에 대한 추천 점수를 확인할 수 있다.

### 비기능적 요구사항

1. **트랜잭션**
    1. 결제가 되지 않은 예약 건은 성립되지 않아야 한다.
    2. 크레딧이 없으면 다이어리 생성이 불가해야 한다.
2. **장애격리**
    1. 계획, 다이어리, 주문 및 결제 기능은 각각 서로의 장애 여부와 무관하게 작동해야 한다.

## 분석/설계

### AS-IS 조직 (Horizontally-Aligned)

![AS-IS 조직](https://github.com/astro30202/shop/issues/1#issue-2515493943)

### TO-BE 조직 (Vertically-Aligned)

![TO-BE 조직](https://github.com/astro30202/shop/issues/2#issue-2515495005)

### Event Storming 결과

- **이벤트 도출**
    
    ![이벤트 도출](https://github.com/astro30202/shop/issues/3#issue-2515495534)
    
- **부적격 이벤트 탈락**
    
    ![부적격 이벤트 탈락](https://github.com/astro30202/shop/issues/4#issue-2515495850)
    
- **액터, 커멘드, 폴리시 푸착 및 정리**
    
    ![액터, 커멘드, 폴리시 푸착 및 정리](https://github.com/astro30202/shop/issues/5#issue-2515497920)
    
- **어그리게잇으로 묶기**
    
    ![어그리게잇으로 묶기](https://github.com/astro30202/shop/issues/6#issue-2515498250)
    
- **바운디드 컨텍스트 묶기**
    
    ![바운디드 컨텍스트 묶기](https://github.com/astro30202/shop/issues/7#issue-2515498519)
    
- **컨텍스트 매핑**
    
    ![컨텍스트 매핑](https://github.com/astro30202/shop/issues/8#issue-2515498743)
    
- **완성된 1차 모형**
    
    ![완성된 1차 모형](https://github.com/astro30202/shop/issues/9#issue-2515498996)
    
### 기능적/비기능적 요구사항 검증

- **기능적 요구사항 검증**
    1. 사용자는 카카오맵 기반으로 특정 장소의 정보(장소 기본 정보, 리뷰 등)를 조회할 수 있다. (O)
    2. 사용자는 특정 장소를 계획에 추가할 수 있다. (O)
    3. 사용자는 날짜 기준 계획을 삭제할 수 있다. (O)
    4. 사용자는 본인이 등록한 장소들을 계획 페이지를 통해 확인할 수 있다. (O)
    5. 계획이 만들어지고 1크레딧을 사용하면 계획 기반 만화가 만들어진다. (O)
    6. 크레딧이 없으면 만화 제작을 할 수 없다. (O)
    7. 사용자는 만들어진 만화를 삭제할 수 있다. (O)
    8. 사용자는 계획 기반으로 만들어진 만화를 확인할 수 있다. (O)
    9. 사용자는 특정 장소에 대한 리뷰를 남길 수 있다. (O)
    10. 사용자는 이미 만든 리뷰를 수정/삭제할 수 있다. (O)
    11. 사용자는 회원가입을 할 수 있다. (O)
    12. 사용자는 로그인/아웃을 할 수 있다. (O)
    13. 회원은 크레딧을 주문하여 구매할 수 있다. (O)
    14. 크레딧 주문을 하면 자동으로 결제가 진행된다. (O)
    15. 크레딧 주문 이후 결제를 취소하여 주문을 취소할 수 있다. (O)
    16. 결제가 완료되면 크레딧 개수가 증가한다. (O)
    17. 크레딧을 사용하면 크레딧 개수가 차감된다. (O)
    18. 크레딧은 최초 구매 시점으로부터 1년 후에 만료된다.(X)
    19. 사용자는 특정 장소에 대한 추천 점수를 확인할 수 있다.(X)

- **비기능적 요구사항 검증**
    1. **트랜잭션**
        1. 결제가 되지 않은 예약 건은 성립되지 않아야 한다.
        2. 크레딧이 없으면 다이어리 생성이 불가해야 한다.
    2. **장애격리**
        1. 계획, 다이어리, 주문 및 결제 기능은 각각 서로의 장애 여부와 무관하게 작동해야 한다.

- **모델 수정 및 최종본**
    
    ![모델 수정 및 최종본](https://github.com/astro30202/shop/issues/10#issue-2515499274)
